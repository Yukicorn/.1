<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
</head>
<body>

<h1>Übersicht aller Notizen</h1>

<div>
    <a href="/createNote">Neue Notiz erstellen</a>
</div>

<div th:if="${not #lists.isEmpty(notesList)}">
    <ul>
        <li th:each="note : ${notesList}">
            <h2 th:text="${note.title}"></h2>
            <p th:text="${note.content}"></p>
            <p><strong>Tags:</strong> <span th:text="${note.tags}"></span></p>
            <p><strong>Erstellt am:</strong> <span th:text="${note.createdAt}"></span></p>

            <!-- Hier kannst du einen Link zum Anzeigen des Bildes hinzufügen, falls es vorhanden ist -->
            <div th:if="${note.image != null}">
                <img th:src="@{'/image/' + ${note.id}}" alt="Notizbild" />
            </div>
        </li>
    </ul>
</div>

<div th:if="${#lists.isEmpty(notesList)}">
    <p>Es gibt keine Notizen.</p>
</div>

<h1>Notizen filtern</h1>
<form action="/api/notes/filter" method="GET">
    <input type="text" name="tag" placeholder="Schlagwort">
    <input type="text" name="type" placeholder="Art">
    <input type="date" id="startDate" name="startDate">
    <input type="date" id="endDate" name="endDate">
    <label for="category">Kategorie:</label>
    <select id="category" name="categoryId">
        <option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.name}"></option>
    </select>
    <button type="submit">Filtern</button>
</form>

<!-- logout.html -->
<form th:action="@{/logout}" method="post">
    <button type="submit">Logout</button>
</form>

</body>
</html>